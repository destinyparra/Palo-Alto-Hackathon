<!doctype html>
<meta charset="utf-8">
<title>Garden (dev)</title>
<link rel="stylesheet" href="/static/css/style.css">

<h1>Garden of You — Garden (Dev)</h1>
<label>User: <input id="user" value="destiny"></label>
<button onclick="load()">Load garden</button>
<div id="out" style="margin-top:1rem;"></div>
<script>
    const BASE = "http://127.0.0.1:5000";
    async function load() {
        const userId = document.getElementById("user").value;
        const res = await fetch(`${BASE}/api/garden?userId=${encodeURIComponent(userId)}`);
        const data = await res.json();
        const out = document.getElementById("out");
        out.innerHTML = "";
        if (!data.length) { out.textContent = "No themes yet."; return; }
        data.forEach(row => {
            const div = document.createElement("span");
            div.className = `chip ${row.stage}`;
            div.textContent = `${row.theme} (${row.count}) — ${row.stage}`;
            out.appendChild(div);
        });
    }
</script>